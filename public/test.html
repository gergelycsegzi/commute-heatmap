<!DOCTYPE html>  
<html>  
  <head>  
    <title>Google Maps Test</title>  
    <style>  
      #map {  
        height: 100%;  
      }  
      html,  
      body {  
        height: 100%;  
        margin: 0;  
        padding: 0;  
      }  
    </style>  
  </head>  
  <body>  
    <div id="map"></div>  
    <script>  
      function initMap() {  
        const map = new google.maps.Map(document.getElementById("map"), {  
          center: { lat: -34.397, lng: 150.644 },  
          zoom: 8,  
        });  
      }  
  
      fetch("/api-key")  
        .then((response) => response.json())  
        .then((data) => {  
          const apiKey = data.apiKey;  
          const script = document.createElement("script");  
          script.src = `https://maps.googleapis.com/maps/api/js?key=${apiKey}&callback=initMap`;  
          script.async = true;  
          script.defer = true;  
          document.body.appendChild(script);  
        });  
    </script>  
  </body>  
</html>  
